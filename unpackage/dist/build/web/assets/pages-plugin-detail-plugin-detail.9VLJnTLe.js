import{C as e,D as a,E as l,O as s,h as t,l as i,q as u,u as n,a as c,w as d,n as o,g as r,o as f,b as _,d as v,t as k,e as p,f as g,r as m,F as y,m as b,G as h,i as x,S as w}from"./index-CgsE51xo.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const S=(s=>(t,i=l())=>{!e&&a(s,t,i)})(s),F=C({__name:"plugin-detail",setup(e){const a=t(!1),l=t(!0),s=t({});S((e=>{try{const t=i("theme");t&&(a.value="dark"===t),e.plugin?(s.value=JSON.parse(decodeURIComponent(e.plugin)),l.value=!1):(u({title:"æ’ä»¶æ•°æ®é”™è¯¯",icon:"error",duration:2e3}),setTimeout((()=>{n()}),2e3))}catch(t){console.error("åŠ è½½æ’ä»¶è¯¦æƒ…å¤±è´¥:",t),u({title:"åŠ è½½å¤±è´¥",icon:"error",duration:2e3}),setTimeout((()=>{n()}),2e3)}}));const C=()=>{n()},F=()=>{a.value=!a.value,b("theme",a.value?"dark":"light")},M=e=>{const a=Math.floor(e),l=e%1>=.5;let s="â˜…".repeat(a);return l&&(s+="â˜†"),s+="â˜†".repeat(5-Math.ceil(e)),s},N=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0",z=e=>{h({data:e,success:()=>{u({title:"é“¾æŽ¥å·²å¤åˆ¶",icon:"success",duration:1500})}})};return(e,t)=>{const i=x,u=r,n=w;return f(),c(u,{class:o(["plugin-detail-page",{"dark-mode":a.value}])},{default:d((()=>[_(u,{class:"detail-header"},{default:d((()=>[_(u,{class:"back-btn",onClick:C},{default:d((()=>[_(i,{class:"back-icon"},{default:d((()=>[v("â†")])),_:1}),_(i,{class:"back-text"},{default:d((()=>[v("è¿”å›ž")])),_:1})])),_:1}),_(u,{class:"header-title"},{default:d((()=>[v("æ’ä»¶è¯¦æƒ…")])),_:1}),_(u,{class:"theme-toggle",onClick:F},{default:d((()=>[_(i,{class:"theme-icon"},{default:d((()=>[v(k(a.value?"â˜€ï¸":"ðŸŒ™"),1)])),_:1})])),_:1})])),_:1}),l.value?(f(),c(u,{key:0,class:"loading-container"},{default:d((()=>[_(u,{class:"loading-spinner"}),_(i,{class:"loading-text"},{default:d((()=>[v("åŠ è½½ä¸­...")])),_:1})])),_:1})):(f(),c(n,{key:1,class:"detail-content","scroll-y":""},{default:d((()=>[_(u,{class:"content-wrapper"},{default:d((()=>{var e,a;return[_(u,{class:"plugin-header"},{default:d((()=>[_(u,{class:"plugin-icon"},{default:d((()=>[_(i,{class:"icon-text"},{default:d((()=>[v("ðŸ“¦")])),_:1})])),_:1}),_(u,{class:"plugin-basic-info"},{default:d((()=>[_(u,{class:"plugin-name"},{default:d((()=>[v(k(s.value.shortname||s.value.name),1)])),_:1}),_(u,{class:"plugin-package"},{default:d((()=>{var e;return[v(k((null==(e=s.value.package)?void 0:e.name)||s.value.name),1)]})),_:1})])),_:1})])),_:1}),(null==(e=s.value.package)?void 0:e.description)?(f(),c(u,{key:0,class:"section"},{default:d((()=>[_(u,{class:"section-title"},{default:d((()=>[v("ðŸ“ æ’ä»¶æè¿°")])),_:1}),_(u,{class:"section-content"},{default:d((()=>[_(i,{class:"description-text"},{default:d((()=>{return[v(k((e=s.value.package.description,"object"==typeof e?e["zh-CN"]||e.zh||e.en||JSON.stringify(e):e||"æš‚æ— æè¿°")),1)];var e})),_:1})])),_:1})])),_:1})):p("",!0),_(u,{class:"section"},{default:d((()=>[_(u,{class:"section-title"},{default:d((()=>[v("ðŸ·ï¸ ç‰ˆæœ¬ä¿¡æ¯")])),_:1}),_(u,{class:"info-grid"},{default:d((()=>{var e,a;return[_(u,{class:"info-item"},{default:d((()=>[_(i,{class:"info-label"},{default:d((()=>[v("å½“å‰ç‰ˆæœ¬")])),_:1}),_(i,{class:"info-value"},{default:d((()=>[v(k(s.value.version||"N/A"),1)])),_:1})])),_:1}),(null==(a=null==(e=s.value.package)?void 0:e.peerDependencies)?void 0:a.koishi)?(f(),c(u,{key:0,class:"info-item"},{default:d((()=>[_(i,{class:"info-label"},{default:d((()=>[v("Koishi ç‰ˆæœ¬")])),_:1}),_(i,{class:"info-value"},{default:d((()=>[v(k(s.value.package.peerDependencies.koishi),1)])),_:1})])),_:1})):p("",!0)]})),_:1})])),_:1}),_(u,{class:"section"},{default:d((()=>[_(u,{class:"section-title"},{default:d((()=>[v("ðŸ“Š ç»Ÿè®¡ä¿¡æ¯")])),_:1}),_(u,{class:"info-grid"},{default:d((()=>[s.value.downloads?(f(),c(u,{key:0,class:"info-item"},{default:d((()=>[_(i,{class:"info-label"},{default:d((()=>[v("ä¸‹è½½é‡")])),_:1}),_(i,{class:"info-value"},{default:d((()=>[v(k(N(s.value.downloads.lastMonth))+"/æœˆ",1)])),_:1})])),_:1})):p("",!0),s.value.rating?(f(),c(u,{key:1,class:"info-item"},{default:d((()=>[_(i,{class:"info-label"},{default:d((()=>[v("è¯„åˆ†")])),_:1}),_(u,{class:"rating-value"},{default:d((()=>[_(i,{class:"stars"},{default:d((()=>[v(k(M(s.value.rating)),1)])),_:1}),_(i,{class:"rating-number"},{default:d((()=>[v(k(s.value.rating.toFixed(1)),1)])),_:1})])),_:1})])),_:1})):p("",!0),s.value.installSize?(f(),c(u,{key:2,class:"info-item"},{default:d((()=>[_(i,{class:"info-label"},{default:d((()=>[v("å®‰è£…å¤§å°")])),_:1}),_(i,{class:"info-value"},{default:d((()=>{return[v(k((e=s.value.installSize,e?e>=1048576?(e/1048576).toFixed(1)+" MB":e>=1024?(e/1024).toFixed(1)+" KB":e+" B":"0 B")),1)];var e})),_:1})])),_:1})):p("",!0),s.value.downloads?(f(),c(u,{key:3,class:"info-item"},{default:d((()=>[_(i,{class:"info-label"},{default:d((()=>[v("æ€»ä¸‹è½½")])),_:1}),_(i,{class:"info-value"},{default:d((()=>[v(k(N(s.value.downloads.lastYear)),1)])),_:1})])),_:1})):p("",!0)])),_:1})])),_:1}),s.value.insecure||s.value.verified||s.value.portable?(f(),c(u,{key:1,class:"section"},{default:d((()=>[_(u,{class:"section-title"},{default:d((()=>[v("ðŸŽ–ï¸ å¾½ç« ")])),_:1}),_(u,{class:"badges-container"},{default:d((()=>[s.value.verified?(f(),c(u,{key:0,class:"badge verified"},{default:d((()=>[_(i,{class:"badge-icon"},{default:d((()=>[v("âœ“")])),_:1}),_(i,{class:"badge-text"},{default:d((()=>[v("å®˜æ–¹è®¤è¯")])),_:1})])),_:1})):p("",!0),s.value.portable?(f(),c(u,{key:1,class:"badge portable"},{default:d((()=>[_(i,{class:"badge-icon"},{default:d((()=>[v("ðŸ“±")])),_:1}),_(i,{class:"badge-text"},{default:d((()=>[v("å¯ç§»æ¤")])),_:1})])),_:1})):p("",!0),s.value.insecure?(f(),c(u,{key:2,class:"badge insecure"},{default:d((()=>[_(i,{class:"badge-icon"},{default:d((()=>[v("âš ï¸")])),_:1}),_(i,{class:"badge-text"},{default:d((()=>[v("ä¸å®‰å…¨")])),_:1})])),_:1})):p("",!0)])),_:1})])),_:1})):p("",!0),s.value.contributors||s.value.maintainers?(f(),c(u,{key:2,class:"section"},{default:d((()=>[_(u,{class:"section-title"},{default:d((()=>[v("ðŸ‘¤ ä½œè€…ä¿¡æ¯")])),_:1}),_(u,{class:"contributors-list"},{default:d((()=>[(f(!0),g(y,null,m([...s.value.contributors||[],...s.value.maintainers||[]],((e,a)=>(f(),c(u,{class:"contributor",key:a},{default:d((()=>[_(i,{class:"contributor-name"},{default:d((()=>[v(k(e.name||e),1)])),_:2},1024),e.email?(f(),c(i,{key:0,class:"contributor-email"},{default:d((()=>[v(k(e.email),1)])),_:2},1024)):p("",!0)])),_:2},1024)))),128))])),_:1})])),_:1})):p("",!0),(null==(a=s.value.package)?void 0:a.keywords)&&s.value.package.keywords.length>0?(f(),c(u,{key:3,class:"section"},{default:d((()=>[_(u,{class:"section-title"},{default:d((()=>[v("ðŸ”– å…³é”®è¯")])),_:1}),_(u,{class:"keywords-container"},{default:d((()=>[(f(!0),g(y,null,m(s.value.package.keywords,((e,a)=>(f(),c(u,{class:"keyword-tag",key:a},{default:d((()=>[v(k(e),1)])),_:2},1024)))),128))])),_:1})])),_:1})):p("",!0),_(u,{class:"section"},{default:d((()=>[_(u,{class:"section-title"},{default:d((()=>[v("ðŸ”— ç›¸å…³é“¾æŽ¥")])),_:1}),_(u,{class:"links-container"},{default:d((()=>{var e,a,l;return[(null==(e=s.value.links)?void 0:e.npm)?(f(),c(u,{key:0,class:"link-item",onClick:t[0]||(t[0]=e=>z(s.value.links.npm))},{default:d((()=>[_(i,{class:"link-icon"},{default:d((()=>[v("ðŸ“¦")])),_:1}),_(i,{class:"link-text"},{default:d((()=>[v("NPM")])),_:1}),_(i,{class:"link-url"},{default:d((()=>[v(k(s.value.links.npm),1)])),_:1})])),_:1})):p("",!0),(null==(a=s.value.links)?void 0:a.homepage)?(f(),c(u,{key:1,class:"link-item",onClick:t[1]||(t[1]=e=>z(s.value.links.homepage))},{default:d((()=>[_(i,{class:"link-icon"},{default:d((()=>[v("ðŸ ")])),_:1}),_(i,{class:"link-text"},{default:d((()=>[v("ä¸»é¡µ")])),_:1}),_(i,{class:"link-url"},{default:d((()=>[v(k(s.value.links.homepage),1)])),_:1})])),_:1})):p("",!0),(null==(l=s.value.links)?void 0:l.repository)?(f(),c(u,{key:2,class:"link-item",onClick:t[2]||(t[2]=e=>z(s.value.links.repository))},{default:d((()=>[_(i,{class:"link-icon"},{default:d((()=>[v("ðŸ’»")])),_:1}),_(i,{class:"link-text"},{default:d((()=>[v("ä»“åº“")])),_:1}),_(i,{class:"link-url"},{default:d((()=>[v(k(s.value.links.repository),1)])),_:1})])),_:1})):p("",!0)]})),_:1})])),_:1}),s.value.updatedAt?(f(),c(u,{key:4,class:"section"},{default:d((()=>[_(u,{class:"section-title"},{default:d((()=>[v("â° æ›´æ–°æ—¶é—´")])),_:1}),_(u,{class:"section-content"},{default:d((()=>[_(i,{class:"update-time"},{default:d((()=>{return[v(k((e=s.value.updatedAt,new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}))),1)];var e})),_:1})])),_:1})])),_:1})):p("",!0)]})),_:1})])),_:1}))])),_:1},8,["class"])}}},[["__scopeId","data-v-6dee9cf0"]]);export{F as default};
